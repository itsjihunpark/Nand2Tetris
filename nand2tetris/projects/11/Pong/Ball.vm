// compiling subroutine
function Ball.new 0
push constant 15
call Memory.alloc 1
pop pointer 0
push argument 0 // symbol -> Ax
pop this 0 // symbol -> x
push argument 1 // symbol -> Ay
pop this 1 // symbol -> y
push argument 2 // symbol -> AleftWall
pop this 10 // symbol -> leftWall
push argument 3 // symbol -> ArightWall
push constant 6
sub
pop this 11 // symbol -> rightWall
push argument 4 // symbol -> AtopWall
pop this 12 // symbol -> topWall
push argument 5 // symbol -> AbottomWall
push constant 6
sub
pop this 13 // symbol -> bottomWall
push constant 0
pop this 14 // symbol -> wall
push pointer 0
call Ball.show 1 // subroutine call (method)
pop temp 0
push pointer 0 // pushing this
return
// compiling subroutine
function Ball.dispose 0
push argument 0
pop pointer 0
push argument 0 // symbol -> this
call Memory.deAlloc 1 // subroutine call (function)
pop temp 0
push constant 0
return
// compiling subroutine
function Ball.show 0
push argument 0
pop pointer 0
push constant 1 // pushing true
neg // pushing true
call Screen.setColor 1 // subroutine call (function)
pop temp 0
push pointer 0
call Ball.draw 1 // subroutine call (method)
pop temp 0
push constant 0
return
// compiling subroutine
function Ball.hide 0
push argument 0
pop pointer 0
push constant 0 // pushing false
call Screen.setColor 1 // subroutine call (function)
pop temp 0
push pointer 0
call Ball.draw 1 // subroutine call (method)
pop temp 0
push constant 0
return
// compiling subroutine
function Ball.draw 0
push argument 0
pop pointer 0
push this 0 // symbol -> x
push this 1 // symbol -> y
push this 0 // symbol -> x
push constant 5
add
push this 1 // symbol -> y
push constant 5
add
call Screen.drawRectangle 4 // subroutine call (function)
pop temp 0
push constant 0
return
// compiling subroutine
function Ball.getLeft 0
push argument 0
pop pointer 0
push this 0 // symbol -> x
return
// compiling subroutine
function Ball.getRight 0
push argument 0
pop pointer 0
push this 0 // symbol -> x
push constant 5
add
return
// compiling subroutine
function Ball.setDestination 3
push argument 0
pop pointer 0
push argument 1 // symbol -> destx
push this 0 // symbol -> x
sub
pop this 2 // symbol -> lengthx
push argument 2 // symbol -> desty
push this 1 // symbol -> y
sub
pop this 3 // symbol -> lengthy
push this 2 // symbol -> lengthx
call Math.abs 1 // subroutine call (function)
pop local 0 // symbol -> dx
push this 3 // symbol -> lengthy
call Math.abs 1 // subroutine call (function)
pop local 1 // symbol -> dy
push local 0 // symbol -> dx
push local 1 // symbol -> dy
lt
pop this 7 // symbol -> invert
push this 7 // symbol -> invert
not
if-goto L1.1
push local 0 // symbol -> dx
pop local 2 // symbol -> temp
push local 1 // symbol -> dy
pop local 0 // symbol -> dx
push local 2 // symbol -> temp
pop local 1 // symbol -> dy
push this 1 // symbol -> y
push argument 2 // symbol -> desty
lt
pop this 8 // symbol -> positivex
push this 0 // symbol -> x
push argument 1 // symbol -> destx
lt
pop this 9 // symbol -> positivey
goto L2.1
label L1.1
push this 0 // symbol -> x
push argument 1 // symbol -> destx
lt
pop this 8 // symbol -> positivex
push this 1 // symbol -> y
push argument 2 // symbol -> desty
lt
pop this 9 // symbol -> positivey
label L2.1
push constant 2
push local 1 // symbol -> dy
call Math.multiply 2
push local 0 // symbol -> dx
sub
pop this 4 // symbol -> d
push constant 2
push local 1 // symbol -> dy
call Math.multiply 2
pop this 5 // symbol -> straightD
push constant 2
push local 1 // symbol -> dy
push local 0 // symbol -> dx
sub
call Math.multiply 2
pop this 6 // symbol -> diagonalD
push constant 0
return
// compiling subroutine
function Ball.move 0
push argument 0
pop pointer 0
push pointer 0
call Ball.hide 1 // subroutine call (method)
pop temp 0
push this 4 // symbol -> d
push constant 0
lt
not
if-goto L1.2
push this 4 // symbol -> d
push this 5 // symbol -> straightD
add
pop this 4 // symbol -> d
goto L2.2
label L1.2
push this 4 // symbol -> d
push this 6 // symbol -> diagonalD
add
pop this 4 // symbol -> d
push this 9 // symbol -> positivey
not
if-goto L1.3
push this 7 // symbol -> invert
not
if-goto L1.4
push this 0 // symbol -> x
push constant 4
add
pop this 0 // symbol -> x
goto L2.4
label L1.4
push this 1 // symbol -> y
push constant 4
add
pop this 1 // symbol -> y
label L2.4
goto L2.3
label L1.3
push this 7 // symbol -> invert
not
if-goto L1.5
push this 0 // symbol -> x
push constant 4
sub
pop this 0 // symbol -> x
goto L2.5
label L1.5
push this 1 // symbol -> y
push constant 4
sub
pop this 1 // symbol -> y
label L2.5
label L2.3
label L2.2
push this 8 // symbol -> positivex
not
if-goto L1.6
push this 7 // symbol -> invert
not
if-goto L1.7
push this 1 // symbol -> y
push constant 4
add
pop this 1 // symbol -> y
goto L2.7
label L1.7
push this 0 // symbol -> x
push constant 4
add
pop this 0 // symbol -> x
label L2.7
goto L2.6
label L1.6
push this 7 // symbol -> invert
not
if-goto L1.8
push this 1 // symbol -> y
push constant 4
sub
pop this 1 // symbol -> y
goto L2.8
label L1.8
push this 0 // symbol -> x
push constant 4
sub
pop this 0 // symbol -> x
label L2.8
label L2.6
push this 0 // symbol -> x
push this 10 // symbol -> leftWall
gt
not
not
if-goto L1.9
push constant 1
pop this 14 // symbol -> wall
push this 10 // symbol -> leftWall
pop this 0 // symbol -> x
goto L2.9
label L1.9
label L2.9
push this 0 // symbol -> x
push this 11 // symbol -> rightWall
lt
not
not
if-goto L1.10
push constant 2
pop this 14 // symbol -> wall
push this 11 // symbol -> rightWall
pop this 0 // symbol -> x
goto L2.10
label L1.10
label L2.10
push this 1 // symbol -> y
push this 12 // symbol -> topWall
gt
not
not
if-goto L1.11
push constant 3
pop this 14 // symbol -> wall
push this 12 // symbol -> topWall
pop this 1 // symbol -> y
goto L2.11
label L1.11
label L2.11
push this 1 // symbol -> y
push this 13 // symbol -> bottomWall
lt
not
not
if-goto L1.12
push constant 4
pop this 14 // symbol -> wall
push this 13 // symbol -> bottomWall
pop this 1 // symbol -> y
goto L2.12
label L1.12
label L2.12
push pointer 0
call Ball.show 1 // subroutine call (method)
pop temp 0
push this 14 // symbol -> wall
return
// compiling subroutine
function Ball.bounce 5
push argument 0
pop pointer 0
push this 2 // symbol -> lengthx
push constant 10
call Math.divide 2
pop local 2 // symbol -> divLengthx
push this 3 // symbol -> lengthy
push constant 10
call Math.divide 2
pop local 3 // symbol -> divLengthy
push argument 1 // symbol -> bouncingDirection
push constant 0
eq
not
if-goto L1.13
push constant 10
pop local 4 // symbol -> factor
goto L2.13
label L1.13
push this 2 // symbol -> lengthx
push constant 0
lt
not
push argument 1 // symbol -> bouncingDirection
push constant 1
eq
and
push this 2 // symbol -> lengthx
push constant 0
lt
push argument 1 // symbol -> bouncingDirection
push constant 1
neg
eq
and
or
not
if-goto L1.14
push constant 20
pop local 4 // symbol -> factor
goto L2.14
label L1.14
push constant 5
pop local 4 // symbol -> factor
label L2.14
label L2.13
push this 14 // symbol -> wall
push constant 1
eq
not
if-goto L1.15
push constant 506
pop local 0 // symbol -> newx
push local 3 // symbol -> divLengthy
push constant 50
neg
call Math.multiply 2
push local 2 // symbol -> divLengthx
call Math.divide 2
pop local 1 // symbol -> newy
push this 1 // symbol -> y
push local 1 // symbol -> newy
push local 4 // symbol -> factor
call Math.multiply 2
add
pop local 1 // symbol -> newy
goto L2.15
label L1.15
push this 14 // symbol -> wall
push constant 2
eq
not
if-goto L1.16
push constant 0
pop local 0 // symbol -> newx
push local 3 // symbol -> divLengthy
push constant 50
call Math.multiply 2
push local 2 // symbol -> divLengthx
call Math.divide 2
pop local 1 // symbol -> newy
push this 1 // symbol -> y
push local 1 // symbol -> newy
push local 4 // symbol -> factor
call Math.multiply 2
add
pop local 1 // symbol -> newy
goto L2.16
label L1.16
push this 14 // symbol -> wall
push constant 3
eq
not
if-goto L1.17
push constant 250
pop local 1 // symbol -> newy
push local 2 // symbol -> divLengthx
push constant 25
neg
call Math.multiply 2
push local 3 // symbol -> divLengthy
call Math.divide 2
pop local 0 // symbol -> newx
push this 0 // symbol -> x
push local 0 // symbol -> newx
push local 4 // symbol -> factor
call Math.multiply 2
add
pop local 0 // symbol -> newx
goto L2.17
label L1.17
push constant 0
pop local 1 // symbol -> newy
push local 2 // symbol -> divLengthx
push constant 25
call Math.multiply 2
push local 3 // symbol -> divLengthy
call Math.divide 2
pop local 0 // symbol -> newx
push this 0 // symbol -> x
push local 0 // symbol -> newx
push local 4 // symbol -> factor
call Math.multiply 2
add
pop local 0 // symbol -> newx
label L2.17
label L2.16
label L2.15
push pointer 0
push local 0 // symbol -> newx
push local 1 // symbol -> newy
call Ball.setDestination 3 // subroutine call (method)
pop temp 0
push constant 0
return
